<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Advance booking</title>
	<link rel="stylesheet" type="text/css" href="css/shopping1.css">
	<link rel="stylesheet" type="text/css" href="css/top.css">
	<link rel="stylesheet" type="text/css" href="css/footer.css">
	<link rel="stylesheet" type="text/css" href="css/ifonts.css">
</head>
<body>
<div class="wrap">
	<header>
		<div class="top">
			<div class="topon">
				<div class="menu">
					<a href="#"><svg class="icon" aria-hidden="true">
					  <use xlink:href="#icon-iconfont-edu12"></use>
					</svg></a>
				</div>
				<div class="logo"></div>
				<div class="topright">
					<div class="search">
						<a href="#"><svg class="icon" aria-hidden="true">
						  <use xlink:href="#icon-iconfontsousuo"></use>
						</svg></a>
					</div>
					<div class="shoppingbag">
						<a href="#"><svg class="icon" aria-hidden="true">
						  <use xlink:href="#icon-gouwudai"></use>
						</svg></a>
					</div>
					<div class="login">
						<a href="#" class="top_dl">登录</a>/<a href="#" class="top_zc">注册</a>
						<a href="#" class="one ydl">已登录</a>
					</div>
				</div>
			</div>
		</div>
	</header>
	<section>
		
		   <div class="denglu one">
				<form action="" id="log_on">
				   <a href="#"><img src="images/x_03.jpg" alt="" class="guanbi_t"></a>
					<div class="logo_one">
						<img src="images/logo1_03_03.png" alt="">
					</div>
					<div class="account">
						<a href="#"><img src="images/dl.jpg" alt=""></a>
						<input type="text" class="username">
						<div>
							<span class="one cw">错误</span>
							<span class="one zq">正确</span>
						</div>
					</div>
					<div class="account">
						<a href="#"><img src="images/dl2_16.jpg" alt=""></a>
						<input type="password" class="password">
						<div>
							<span class="one cw">错误</span>
							<span class="one zq">正确</span>
						</div>
					</div>	
						<a href="#" class="dl">登录</a>
					<div class="zhuce clrarfix">
						<a href="#">忘记密码?</a>
						<a href="#">注册</a>
					</div>
					<div class="link_a">
						<a href="#"><img src="images/QQ.png" alt=""></a>
						<a href="#"><img src="images/WX.png" alt=""></a>
						<a href="#"><img src="images/WB.png" alt=""></a>
					</div>		
				</form>
			</div>
		<div class="main">
			<div class="main_top clearfix">
				<div class="clearfix">
					<h2>购物车</h2>
					<p>[<span class="zongshu"></span>件]</p>
				</div>
				<div class="clearfix">
					<em>购物车</em>
					<p>填写订单</p>
					<p>付款，购买成功</p>
				</div>
				<div>
				    <img src="images/main.jpg" alt="">
				</div>
			</div>
			
			<div class="main_mid">
			<div class="main_go one">
				<img src="images/banner_06.jpg" alt="">
			</div>
			   <div class="min_mid">
				<div class="clearfix">
					<p><input type="checkbox" class="all"><span>全选</span></p>
	                <p>商品</p>
	                <p>单价</p>
	                <p>数量</p>
	                <p>小计</p>
	                <p>操作</p>
				</div>
				<ul class="list">
					<li class="clearfix">
						<div class="left clearfix">
							<input type="checkbox" class="part">
							<img src="images/shopping_03.jpg" alt="">
							<a href="#">龙之谷六周年限定礼包Boss冰龙款男<br>士T恤</a><br>
							<span>款式：iPhone 5</span><br>
							<span>尺码：XL</span>
						</div>
						<div class="right clearfix">
							<div><em>￥<span class="price">79</span>.00</em></div>
							<div>
								<a href="#" class="add">+</a>
								<input type="text" value="1" class="num">
								<a href="#" class="minus">-</a>
							</div>
							<div><span>￥ <span class="Subtotal">79</span>.00</span></div>
							<a href="#" class="cha_d"><img src="images/x_03.jpg" alt=""></a>
						</div>	
						<div class="qipao one clearfix">
								<a href="#" class="no">删除</a>
								<a href="#" class="off">不删除</a>
							</div>
					</li>
					<li class="clearfix">
						<div class="left clearfix">
							<input type="checkbox" class="part">
							<img src="images/shopping_03.jpg" alt="">
							<a href="#">龙之谷六周年限定礼包Boss冰龙款男<br>士T恤</a>
						</div>
						<div class="right clearfix">
							<div><em>￥<span class="price">79</span>.00</em></div>
							<div>
							    <a href="#" class="add">+</a>
								<input type="text" value="1" class="num">
								<a href="#" class="minus">-</a>
							</div>
							<div><span>￥ <span class="Subtotal">79</span>.00</span></div>
							<a href="#" class="cha_d"><img src="images/x_03.jpg" alt=""></a>
						</div>
						<div class="qipao one clearfix">
								<a href="#" class="no">删除</a>
								<a href="#" class="off">不删除</a>
							</div>	
					</li>
				</ul>
				 <div class="main_bottom clearfix">
					 <div class="bottom_left">
					    <input type="checkbox" class="all"><span>全选</span>  
					    <a href="#">删除</a>
					    <em>共<span class="gong">2</span>件商品，以选择<span class="yijing">2</span>件</em>
					    <div class="qipao_a one">
					    	<a href="#" class="no_a">删除</a>
							<a href="#" class="off_a">不删除</a>
					    </div>
					 </div>
				    <div class="bottom_right">
				        <div>
					    	<p>合计：</p>
					    	<p>[不含运费]：</p>
				    	</div>
				    	<strong>￥<span class="total">158</span>.00</strong>
				    	<a href="order.html" class="jiesuan">去结算</a>
				    </div>
				</div>
			   </div>
			</div>		
		</div>
	</section>
	<footer>	
		<div class="footerup">
			<div class="footerup_on clearfix">
				<div class="clearfix">
					<h2>帮助信息</h2>
					<ul>
					 	<li><a href="#"><svg class="icon" aria-hidden="true">
						  <use xlink:href="#icon-gouwuzhinanb"></use>
						</svg> <span>购物指南</span></a></li>
					 	<li><a href="#"><svg class="icon" aria-hidden="true">
						  <use xlink:href="#icon-zhifufangshi"></use>
						</svg> <span>支付方式</span></a></li>
					 	<li><a href="#"><svg class="icon" aria-hidden="true">
						  <use xlink:href="#icon-peisongfangshi"></use>
						</svg> <span>配送方式</span></a></li>
					 	<li><a href="#"><svg class="icon" aria-hidden="true">
						  <use xlink:href="#icon-question"></use>
						</svg> <span>售后服务</span></a></li>
					 </ul>
					 <ul>
					 	<li><a href="#"><svg class="icon" aria-hidden="true">
						  <use xlink:href="#icon-dianhua"></use>
						</svg> <span>服务中心</span></a></li>
					 	<li><a href="#"><svg class="icon" aria-hidden="true">
						  <use xlink:href="#icon-gouwuzhinan"></use>
						</svg> <span>关于我们</span></a></li>
					 	<li><a href="#"><svg class="icon" aria-hidden="true">
						  <use xlink:href="#icon-wangzhantiaokuan"></use>
						</svg> <span>免责条款</span></a></li>
					 	<li><a href="#"><svg class="icon" aria-hidden="true">
						  <use xlink:href="#icon-youqinglianjie1"></use>
						</svg> <span>友情链接</span></a></li>
					 </ul> 
				</div>
				<div>
					<h2>关注我们</h2>
					<div>
						<div>
							<img src="images/erweima_09.png" alt=""></img>
							<a href="#"><svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-taobao"></use>
							</svg></a>
						</div>
						<div>
							<img src="images/erweima_11.png" alt=""></img>
							<a href="#"><svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-weixin"></use>
							</svg></a>
						</div>
					</div>
				</div>
				<div>
					<h2>客服热线</h2>
					<div><div><svg class="icon" aria-hidden="true">
						<use xlink:href="#icon-dianhua"></use>
						</svg>
						</div>
						<div>
							<span>400 113 5353</span>
							<span>[ 周一至周五 9:00-18:00 ]</span>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="footerdown">
			<div class="footerdown_on clearfix">
				<a class="footer_logo"></a>
				<p class="copyright">北京开普乐科技有限公司©版权所有 Copyright 2015-2025 Morethan.cc All rights reserved <br>
				地址：北京市朝阳区建国路93号院4号楼4层505
				</p>
			</div>
		</div>
		
	</footer>

</div>
	<script src="js/iconfont.js"></script>
	<script>
		// add +  //minus -  //no 删除   // off 不删除
		//价钱 price //小计 Subtotal //总计 Total
		var total =document.querySelector('.total');
		var subtotalArr =document.querySelectorAll('.Subtotal');
		var reduceArr =document.querySelectorAll('.minus');
		var addArr =document.querySelectorAll('.add');
		var allInput =document.querySelectorAll('.all');
		var goodsInput =document.querySelectorAll('.part');
		var inputArr=document.querySelectorAll('input[type=checkbox]');
		var del =document.querySelectorAll('.no');
		var del_z=document.querySelector('.no_a');
		// var zongshu =document.querySelector('.zongshu')
		// console.log(zongshu)
		var num_s =document.querySelectorAll('.num');
		// off_a //off
		var off_a =document.querySelector('.off_a');
		var off =document.querySelectorAll('.off');
		var shanchu_c =document.querySelector('.bottom_left>a');
		var cha_d =document.querySelectorAll('.cha_d');
		var guanbi_t =document.querySelector('.guanbi_t');
		var wukong =document.querySelector('.main_go')
		var list =document.querySelectorAll('.list');
		var jiesuan =document.querySelector('.jiesuan');
		var denglu =document.querySelector('.denglu');
		var bool_t_u =false;
		var bool_t_p =false;
		var bool_t_d =false;
		var ydl =document.querySelector('.ydl')
		// username  //password
		// document.querySelector('username').onfocus=function(){
		// }
		var password =document.querySelector('.password');
		var username=document.querySelector('.username');
		var dl =document.querySelector('.dl');
		var zhuti =document.querySelector('.min_mid')
		password.onblur=function(){
			var password1 =this.value
			if(password1 =='1234567890'){
				bool_t_u =true;
				removeClass(this.parentNode.querySelector('.zq'),'one')
			}else{
				removeClass(this.parentNode.querySelector('.cw'),'one')
			}

		}
		username.onblur=function(){
			var username1 =this.value
			if(username1 =='1234567890'){
				bool_t_p =true;
				removeClass(this.parentNode.querySelector('.zq'),'one')
			}else{
				removeClass(this.parentNode.querySelector('.cw'),'one')
			}

		}
		dl.onclick =function(){
			if(bool_t_u==false || bool_t_p==false){
				event.preventDefault();
			}else{
				var top_dl =document.querySelector('.top_dl');
				var top_zc =document.querySelector('.top_zc');
				addClass(denglu,'one');
				addClass(top_dl,'one');
				addClass(top_zc,'one')
				removeClass(ydl,'one');
				bool_t_d=true;
			}
		}
		guanbi_t.onclick =function(){
			event.preventDefault();
			addClass(this.parentNode.parentNode.parentNode,'one')
		}
		jiesuan.onclick =function(){
			if(bool_t_d==false){
				event.preventDefault();
				removeClass(denglu,'one')
			}
		}
		for(i=0;i<cha_d.length;i++){
			cha_d[i].onclick =function(){
				event.preventDefault();
				removeClass(this.parentNode.parentNode.querySelector('.qipao'),'one')
			}
		}
		for(i=0;i<off.length;i++){
			off[i].onclick =function(){
				event.preventDefault();
				addClass(this.parentNode,'one')
			}
		}
		shanchu_c.onclick=function(){
			event.preventDefault();
			removeClass(this.parentNode.parentNode.parentNode.querySelector('.qipao_a'),'one')
		}
		del_z.onclick=function(){
			this.parentNode.parentNode.parentNode.parentNode.removeChild(this.parentNode.parentNode.parentNode.parentNode.querySelector('.list'));
			removeClass(wukong,'one')
			addClass(document.querySelector('.min_mid'),'one')
			addClass(this.parentNode,'one')
				total1()
				zongji()
				zjn()
		}
		off_a.onclick =function(){
			event.preventDefault();
			addClass(this.parentNode,'one')
		}
		function change(objArr,state){
			for(var i= 0;i<objArr.length;i++){
				objArr[i].checked =state;
			}
		}
		change(inputArr,true)
		function total1(){
			
			var total =0;
			subtotalArr =document.querySelectorAll('.Subtotal');
			for(var i=0;i<subtotalArr.length;i++){
				if(subtotalArr[i].parentNode.parentNode.parentNode.parentNode.querySelector('.part').checked ==true){
					total =total +Number(subtotalArr[i].innerHTML)
				}
			}
			document.querySelector('.total').innerHTML = total
		}
		function zongji(){
			
			var zongji =0;
			num_s =document.querySelectorAll('.num');
			for(var i=0;i<num_s.length;i++){
				if(num_s[i].parentNode.parentNode.parentNode.querySelector('.part').checked ==true){
					// console.log(num_s[i].value)
					zongji =zongji + Number(num_s[i].value)
				}
			}
			document.querySelector('.zongshu').innerHTML =zongji
			document.querySelector('.yijing').innerHTML = zongji
		}
		zongji()
		function sub(obj){
			var num =obj.querySelector('.num').value;
			var price =obj.querySelector('.price').innerHTML;
			obj.querySelector('.Subtotal').innerHTML =num*price;
			for(i=0;i<goodsInput.length;i++){
				goodsInput[i]
			}
		}
		// var liArr =document.querySelectorAll('.list>li')
		// console.log(liArr)
		function del1(obj){
			var del1_f =obj.parentNode.parentNode.parentNode;
			var del1_z =obj.parentNode.parentNode;
			del1_f.removeChild(del1_z)
		}
		
		for(i=0;i<del.length;i++){
			del.index =i
			del[i].onclick =function(){
				del1(this)
				console.log(document.querySelector('.list').getElementsByTagName('li').length)
				if(document.querySelector('.list').getElementsByTagName('li').length == 0){
					document.querySelector('.zongshu').innerHTML = 0;
					removeClass(wukong,'one')
					addClass(document.querySelector('.min_mid'),'one')
				}else{
					total1()
					zongji()
					zjn()
				}
				
				// if(){
				// }
				// this.parentNode.parentNode.parentNode.removeChild(liArr[i-1])	
			}
			
		}
		// 事件委托
		for(var i=0;i<subtotalArr.length;i++){
			sub(subtotalArr[i].parentNode.parentNode.parentNode.parentNode)
		}
		total1();
		for(var i=0;i<addArr.length;i++){
			addArr[i].onclick =function(event){
				event.preventDefault();
				var num =this.parentNode.querySelector('input').value;
				num++
				this.parentNode.querySelector('input').value =num;
				sub(this.parentNode.parentNode.parentNode)
				total1()
				zongji()
				zjn()
			}
		}
		for(var i=0;i<reduceArr.length;i++){
			reduceArr[i].onclick =function(event){
				event.preventDefault();
				var num =this.parentNode.querySelector('input').value;
				num--
				if(num<1){
					num=1
				}
				this.parentNode.querySelector('input').value =num;
				sub(this.parentNode.parentNode.parentNode)
				// console.log(sub(this.parentNode.parentNode.parentNode.parentNode))
				total1()
				zongji()
				zjn()
			}
		}
		for(var j=0;j<allInput.length;j++){
			allInput[j].onchange=function(){
				var state =this .checked;
				change(inputArr,state)
				total1()
				zongji()
				zjn()
			}
		}
		for(var i=0;i<goodsInput.length;i++){
			goodsInput[i].onchange =function(){
				var state1 =true;
				for(var j=0;j<goodsInput.length;j++){
					if(goodsInput[j].checked === false){
						state1 =false
						break;
					}
				}
				change(allInput,state1)
				total1()
				zongji()
			}
		}
		function zjn(){
			var num =0
			num_s =document.querySelectorAll('.num');
			for(var i=0;i<num_s.length;i++){
				num=num+Number(num_s[i].value)
			}
			document.querySelector('.gong').innerHTML =num;
		}
		zjn()
		function addClass(obj,className){
			var oldClass= ' '+obj.className.trim()+' ';
			if(oldClass.indexOf(' '+className+' ')==-1){
				obj.className= oldClass.trimLeft() + className
			}
		}
		function removeClass(obj,className){
			var oldClass = ' '+obj.className+' '
			if( oldClass.indexOf(' '+className+' ')!=-1){
				var newClass= oldClass.replace(' '+className+' ',' ')
				obj.className=newClass.trim()
			}
		}

		

		
	</script>
</body>
</html>